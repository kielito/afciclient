<body>
    <tbody *ngIf="confirmacion">
        <div id="aviso">
        <div class="alert alert-success alert-dismissible">
            <button type="button" class="close" data-dismiss="alert">&times;</button>
            <strong>Artículo {{mensaje}} correctamente!</strong> 
        </div>
        </div>
    </tbody>
    <tbody *ngIf="error">
        <div id="aviso">
        <div class="alert alert-danger alert-dismissible">
            <button type="button" class="close" data-dismiss="alert">&times;</button>
            <strong>Error: verifique los datos ingresados!</strong> 
        </div>
        </div>
    </tbody>
    <table class="table table-dark table-striped table-hover">
        <thead class="thead-light">
            <th>Codigo Artículo</th>
            <th>Descripción</th>
            <th>Proveedor</th>
            <th>Stock Mínimo</th>
            <th>Stock Actual</th>
            <th>Precio</th>
            <th>Acción</th>
        </thead>        
        <tbody *ngIf="articulos.length > 0; else fila">            
            <tr *ngFor=" let articulo of articulos; let i= index">               
                <td>{{articulo.CodigoProducto}}</td>
                <td>{{articulo.Descripcion}}</td>
                <td>{{articulo.RazonSocial}}</td>
                <td><input class="form-control" type="number" min="0" name="stockminimo" [(ngModel)]="articulo.StockMinimo"></td>
                <td><input class="form-control" type="number" min="0" name="stockactual" [(ngModel)]="articulo.StockActual"></td>
                <td><input class="form-control" type="number" step="0.01" name="precioventa" [(ngModel)]="articulo.PrecioVenta"></td>                
                <td><button class="btn btn-info mr-3" type="submit" (click)="editar(articulo)">Editar</button>
                    <button class="btn btn-danger" type="submit" (click)="eliminar(articulo)">Eliminar</button></td>                
            </tr>        
        </tbody>    
        <ng-template #fila>
            <tbody>
                <tr>
                    <td colspan="4">No hay mas filas</td>
                </tr>
            </tbody>
        </ng-template>
    </table>
    <h4>Agregar Producto</h4>
        <form (submit)="registrar()">
            <div class="input-group" id="carga">  
                Descripción:
                <input type="text" class="mr-3" name="nombre" [(ngModel)]="datos.nombre" placeholder="Ingrese la Descripción">  
                Precio $:               
                <input type="number" min="1" step="0.01" name="precio" [(ngModel)]="datos.precio" placeholder="Ingrese el Precio">
                <button class="btn btn-success ml-3 btn-sm" (click)="verificarForm(datos)">Agregar</button>                
            </div>  
        </form>
        <div class="input-group">  
            <div [ngSwitch]="errorNombre" id="mensaje">
                <div *ngSwitchCase="1" class="mr-5">Debes ingresar la Descripción</div>
                <div *ngSwitchCase="2" class="mr-5">La Descripción no puede estar vacía</div>
            </div>
            <div [ngSwitch]="errorPrecio">
                <div *ngSwitchCase="1">Debes ingresar el Precio</div>
            </div>
        </div>
    <button class="btn btn-dark mr-3" id="botones" routerLink="../../usuarios/home">Volver</button>    
</body>