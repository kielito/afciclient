<body>
    <tbody *ngIf="confirmacion">
        <div id="aviso">
        <div class="alert alert-success alert-dismissible">
            <button type="button" class="close" data-dismiss="alert">&times;</button>
            <strong>Artículo {{mensaje}} correctamente!</strong> 
        </div>
        </div>
    </tbody>
    <tbody *ngIf="error">
        <div id="aviso">
        <div class="alert alert-danger alert-dismissible">
            <button type="button" class="close" data-dismiss="alert">&times;</button>
            <strong>Error: verifique los datos ingresados!</strong> 
        </div>
        </div>
    </tbody>
    <table class="table table-dark table-striped table-hover">
        <thead class="thead-light">
            <th>Tipo Documento</th>
            <th>Número Documento</th>
            <th>Razón Social</th>
            <th>Email</th>
            <th>Dirección</th>
            <th>Localidad</th>
            <th>Provincia</th>
            <th>Código Postal</th>
            <th>Descripción</th>
            <th>Acción</th>
        </thead>        
        <tbody *ngIf="proveedores.length > 0; else fila">            
            <tr *ngFor=" let proveedor of proveedores; let i= index">
                <td><select name="tipodocumento" [(ngModel)]="proveedor.TipoDocumento" placeholder="TipoDocumento"class="form-control">
                    <option value="DNI">DNI</option>
                    <option value="CUIL">CUIL</option>
                    <option value="CUIT">CUIT</option>
                    <option value="Otro">Otro</option>
                </select></td>
                <td><input class="form-control" type="number" min="1" name="numerodocumento" [(ngModel)]="proveedor.NumeroDocumento"></td>
                <td><input class="form-control" type="text" name="razonsocial" [(ngModel)]="proveedor.RazonSocial"></td>                
                <td><input class="form-control" type="email" name="email" [(ngModel)]="proveedor.Email"></td>
                <td><input class="form-control" type="text" name="stockactual" [(ngModel)]="proveedor.Direccion"></td>
                <td><input class="form-control" type="text" name="localidad" [(ngModel)]="proveedor.Localidad"></td>
                <td><input class="form-control" type="text" name="provincia" [(ngModel)]="proveedor.Provincia"></td>
                <td><input class="form-control" type="text" name="codigopostal" [(ngModel)]="proveedor.CodigoPostal"></td>
                <td><input class="form-control" type="text" name="descripcion" [(ngModel)]="proveedor.Descripcion"></td>
                <td><button class="btn btn-info mr-3" type="submit" (click)="editar(proveedor)">Editar</button>
                    <button class="btn btn-danger" type="submit" (click)="eliminar(proveedor)">Eliminar</button></td>                
            </tr>        
        </tbody>    
        <ng-template #fila>
            <tbody>
                <tr>
                    <td colspan="4">No hay mas filas</td>
                </tr>
            </tbody>
        </ng-template>
    </table>
    <h4>Agregar Proveedor</h4>
        <form (submit)="registrar()">
            <div class="input-group" id="carga">  
                Descripción:
                <input type="text" class="mr-3" name="nombre" [(ngModel)]="datos.nombre" placeholder="Ingrese la Descripción">  
                Precio $:               
                <input type="number" min="1" step="0.01" name="precio" [(ngModel)]="datos.precio" placeholder="Ingrese el Precio">
                <button class="btn btn-success ml-3 btn-sm" (click)="verificarForm(datos)">Agregar</button>                
            </div>  
        </form>
        <div class="input-group">  
            <div [ngSwitch]="errorNombre" id="mensaje">
                <div *ngSwitchCase="1" class="mr-5">Debes ingresar la Descripción</div>
                <div *ngSwitchCase="2" class="mr-5">La Descripción no puede estar vacía</div>
            </div>
            <div [ngSwitch]="errorPrecio">
                <div *ngSwitchCase="1">Debes ingresar el Precio</div>
            </div>
        </div>
    <button class="btn btn-dark mr-3" id="botones" routerLink="../../usuarios/home">Volver</button>    
</body>
